(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{111:function(e,t,c){e.exports={buttonContainer:"canvasCreate_buttonContainer__31FAh"}},117:function(e,t,c){e.exports={wrapper:"Base_wrapper__Qs4Oh"}},119:function(e,t,c){e.exports={wrapper:"User_wrapper__2b8sb"}},120:function(e,t,c){e.exports={wrapper:"AddReview_wrapper__PHBNr"}},121:function(e,t,c){e.exports={buttonContainer:"canvasCreateReview_buttonContainer__3eL30"}},122:function(e,t,c){e.exports={wrapper:"Tasks_wrapper__2AnSz"}},208:function(e,t,c){e.exports={card:"CardPeopleIncome_card__3gDQw",header:"CardPeopleIncome_header__2kjcd",title:"CardPeopleIncome_title__2Jdoz"}},209:function(e,t,c){e.exports={card:"CardPeopleIncomeOutcome_card__35YZj",header:"CardPeopleIncomeOutcome_header__2hhzU",title:"CardPeopleIncomeOutcome_title__2u2_6"}},210:function(e,t,c){e.exports={card:"CardRequestedPeople_card__1iJKZ",header:"CardRequestedPeople_header__1Ap1N",title:"CardRequestedPeople_title__3cEpm"}},211:function(e,t,c){e.exports={card:"cardPeopleTimesIncome_card__2Jv-Y",header:"cardPeopleTimesIncome_header__2UFZ3",title:"cardPeopleTimesIncome_title__1GI01"}},212:function(e,t,c){e.exports={card:"cardRequests_card__3CvF9",header:"cardRequests_header__3EI_C",title:"cardRequests_title__2dGbs"}},213:function(e,t,c){e.exports={card:"cardSexAge_card__1BXSR",header:"cardSexAge_header__3nhDy",title:"cardSexAge_title__2ZYES"}},214:function(e,t,c){e.exports={card:"cardNationality_card__UsRzO",header:"cardNationality_header__3E5hH",title:"cardNationality_title__1mwXI"}},215:function(e,t,c){e.exports={card:"CardProductRoadmap_card__1St97",header:"CardProductRoadmap_header__1dHr9",title:"CardProductRoadmap_title__gUj-z"}},216:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),i=(c(140),c(15)),r=c.n(i),s=c(35),l=c(25),d=c(26),o=c.p+"static/media/map.8b24bacd.svg",j=c(69),b=c.n(j),h=c(257),u=c(218),x=c(111),O=c.n(x),p=c(12),f=c(3),g=function(e){var t=e.shape,c=e.onChange,n=e.onSelect,i=e.isSelected,r=Object(a.useRef)(),s=Object(a.useRef)();return Object(a.useEffect)((function(){i&&(s.current.nodes([r.current]),s.current.getLayer().batchDraw())}),[i]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(d.b,{draggable:!0,x:t.x,y:t.y,width:t.width,height:t.height,onClick:n,onTap:n,ref:r,onDragEnd:function(e){c(Object(p.a)(Object(p.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var a=r.current,n=a.scaleX(),i=a.scaleY();a.scaleX(1),a.scaleY(1),c(Object(p.a)(Object(p.a)({},t),{},{x:a.x(),y:a.y(),width:Math.max(5,a.width()*n),height:Math.max(a.height()*i)}))},children:[Object(f.jsx)(d.e,{x:0,y:0,width:t.width,height:t.height,fill:"#D86F6F"}),Object(f.jsx)(d.g,{text:t.name,fontSize:16,fill:"#fff",align:"center",verticalAlign:"middle",width:t.width,height:t.height})]}),i&&Object(f.jsx)(d.h,{ref:s,rotateEnabled:!1,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})},_=c(0).createContext,v=_(),m=_(),y=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(l.a)(c,2),i=n[0],r=n[1],s=Object(a.useState)(null),d=Object(l.a)(s,2),o=d[0],j=d[1];return Object(f.jsx)(v.Provider,{value:{exponats:i,setExponats:r},children:Object(f.jsx)(m.Provider,{value:{selectedId:o,selectShapeId:j},children:t})})},C=c(112),w=c.n(C).a.create({baseURL:"http://b74a8f42f257.ngrok.io/api/",timeout:0}),S=function(){return new Promise((function(e,t){w({method:"get",url:"get/exps"}).then((function(t){e(t.data.data)})).catch((function(e){t(e)}))}))},P=c(19),I=function(){var e=b()(o),t=Object(l.a)(e,1)[0],c=Object(a.useState)({stageScale:1,stageX:0,stageY:0}),n=Object(l.a)(c,2),i=n[0],r=n[1],j=Object(a.useContext)(v),x=j.exponats,p=j.setExponats,_=Object(a.useContext)(m),y=_.selectedId,C=_.selectShapeId,S=Object(P.f)(),I=(window.innerWidth-160)/(null===t||void 0===t?void 0:t.width)*(null===t||void 0===t?void 0:t.height);console.log(I);return Object(f.jsxs)("div",{children:[Object(f.jsx)(d.f,{width:window.innerWidth,height:600,scaleX:i.stageScale,scaleY:i.stageScale,x:i.stageX,y:i.stageY,onWheel:function(e){e.evt.preventDefault();var t=e.target.getStage(),c=t.scaleX(),a=t.getPointerPosition().x/c-t.x()/c,n=t.getPointerPosition().y/c-t.y()/c,i=e.evt.deltaY<0?1.02*c:c/1.02;r({stageScale:i,stageX:-(a-t.getPointerPosition().x/i)*i,stageY:-(n-t.getPointerPosition().y/i)*i})},onClick:function(e){var t,c,a,n;console.log(null===e||void 0===e||null===(t=e.currentTarget)||void 0===t||null===(c=t.clickEndShape)||void 0===c?void 0:c.index),(null===e||void 0===e||null===(a=e.currentTarget)||void 0===a||null===(n=a.clickEndShape)||void 0===n?void 0:n.index)||C(null)},children:Object(f.jsx)(d.d,{children:Object(f.jsxs)(d.b,{x:0,y:0,draggable:!0,children:[Object(f.jsx)(d.c,{x:30,y:30,width:window.innerWidth-160,height:I||200,image:t}),x.map((function(e,t){return Object(f.jsx)(g,{shape:e,isSelected:e.id===y,onSelect:function(){C(e.id)},onChange:function(e){var c=Object(s.a)(x);c[t]=e,p(c)}},t)}))]})})}),Object(f.jsx)("div",{className:O.a.buttonContainer,children:Object(f.jsxs)(h.a,{color:"primary",variant:"contained","aria-label":"outlined primary button group",children:[Object(f.jsx)(u.a,{onClick:function(){p([].concat(Object(s.a)(x),[{x:10,y:10,width:100,height:100,name:"\u042d\u043a\u0441\u043f\u043e\u043d\u0430\u0442 1",id:x.length+1}]))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u043a\u0441\u043f\u043e\u043d\u0430\u0442"}),Object(f.jsx)(u.a,{onClick:function(){Promise.all(x.map((function(e){return function(e){var t=e.event_id,c=e.x,a=e.y,n=e.name;return new Promise((function(e,i){w({method:"post",url:"add/picture",data:{event_id:t,x:c,y:a,name:n}}).then((function(t){e(t.data.data)})).catch((function(e){i(e)}))}))}({event_id:1,x:e.x,y:e.y,name:e.name})}))).then((function(e){S.push("/users")}))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(f.jsx)(u.a,{children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})})]})},k=c(117),E=c.n(k),T=c(23),N=c(55),Y=c.n(N),R=c(270),W=function(e){var t=e.children,c=e.title,a=e.extraTitle,n=(e.index,Object(T.a)(e,["children","title","extraTitle","index"]));return Object(f.jsxs)(R.a.div,Object(p.a)(Object(p.a)({initial:{y:20,opacity:0},animate:{y:0,opacity:1}},n),{},{className:Y.a.card,children:[Object(f.jsxs)("div",{className:Y.a.header,children:[c&&Object(f.jsx)("span",{className:Y.a.title,children:c}),a&&Object(f.jsx)("span",{className:Y.a.extraTitle,children:a})]}),Object(f.jsx)("div",{className:Y.a.body,children:t})]}))},F=c(271),X=function(){var e=Object(a.useContext)(v),t=e.exponats,c=e.setExponats,n=Object(a.useContext)(m),i=n.selectedId,r=(n.selectShapeId,Object(a.useState)("")),d=Object(l.a)(r,2),o=d[0],j=d[1];Object(a.useEffect)((function(){S().then((function(e){console.log("data",e)})).catch((function(e){console.log("error",e.message)}))}),[]),Object(a.useEffect)((function(){var e;i&&j(null===(e=t[i-1])||void 0===e?void 0:e.name)}),[i]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I,{}),Object(f.jsx)(R.a.div,{initial:{opacity:0,scaleY:0},animate:{opacity:1,scaleY:1},className:E.a.wrapper,children:Object(f.jsxs)(W,{title:"\u0420\u0435\u0434\u0430\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u043f\u043e\u043d\u0430\u0442",children:[Object(f.jsx)(F.a,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u044d\u043a\u0441\u043f\u043e\u043d\u0430\u0442\u0430",variant:"outlined",value:o,onChange:function(e){j(e.target.value)}}),Object(f.jsx)(u.a,{onClick:function(){var e=Object(s.a)(t);e[i-1].name=o,c(e)},variant:"contained",color:"primary",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})})]})},D=c(56),A=c.n(D),B=c(269),q=c.p+"static/media/logo.392eae2a.svg",U=c(34),z=c(264),J=c(265),L=c(266),G=c(267),H=c(261),Z=c(262),M=c(263),Q=function(e){var t=e.children;return Object(f.jsxs)("div",{className:A.a.container,children:[Object(f.jsxs)("header",{className:A.a.header,children:[Object(f.jsx)("a",{href:"/",className:A.a.logoWrapper,children:Object(f.jsx)(B.a,{src:q})}),Object(f.jsx)("div",{className:A.a.avatarWrapper,children:Object(f.jsx)(B.a,{circular:!0,src:"https://react.semantic-ui.com/images/wireframe/square-image.png"})}),Object(f.jsx)("nav",{children:Object(f.jsxs)(H.a,{children:[Object(f.jsx)(Z.a,{children:Object(f.jsx)(U.b,{to:"/",children:Object(f.jsx)(M.a,{color:"primary",children:Object(f.jsx)(z.a,{})})})}),Object(f.jsx)(Z.a,{children:Object(f.jsx)(U.b,{to:"/users",children:Object(f.jsx)(M.a,{children:Object(f.jsx)(J.a,{})})})}),Object(f.jsx)(Z.a,{children:Object(f.jsx)(U.b,{to:"/add-review",children:Object(f.jsx)(M.a,{children:Object(f.jsx)(L.a,{})})})}),Object(f.jsx)(Z.a,{children:Object(f.jsx)(U.b,{to:"/tasks",children:Object(f.jsx)(M.a,{children:Object(f.jsx)(G.a,{})})})})]})})]}),Object(f.jsx)("main",{className:A.a.main,children:t})]})},K=c(272),V=c(123),$=(c(208),c.p+"static/media/more.8acfa84d.svg"),ee=function(e){e.children,e.title;var t=Object(T.a)(e,["children","title"]);return Object(f.jsxs)(W,Object(p.a)(Object(p.a)({title:"\u0427\u0435\u043b\u043e\u0432\u0435\u043a \u043f\u0440\u0438\u0448\u043b\u043e",extraTitle:Object(f.jsx)(B.a,{src:$})},t),{},{children:[Object(f.jsx)("span",{children:"271 people"}),Object(f.jsx)("span",{children:"+ 0,7%"})]}))},te=c(119),ce=c.n(te),ae=(c(209),function(e){e.children,e.title;var t=Object(T.a)(e,["children","title"]);return Object(f.jsxs)(W,Object(p.a)(Object(p.a)({title:"\u0417\u0430\u0448\u043b\u0438 \u0438 \u0432\u044b\u0448\u043b\u0438",extraTitle:Object(f.jsx)(B.a,{src:$})},t),{},{children:[Object(f.jsx)("span",{children:"69 people"}),Object(f.jsx)("span",{children:"+ 0,7%"})]}))}),ne=(c(210),c.p+"static/media/IncomePeopleGraph.fde8fdb0.svg"),ie=function(e){e.children,e.title;var t=Object(T.a)(e,["children","title"]);return Object(f.jsxs)(W,Object(p.a)(Object(p.a)({title:"\u041e\u043f\u0440\u043e\u0441\u0438\u043b\u0438",extraTitle:Object(f.jsx)(B.a,{src:$})},t),{},{children:[Object(f.jsx)("span",{children:"69 people"}),Object(f.jsx)("span",{children:"+ 0,7%"})]}))},re=(c(211),function(e){e.children,e.title;var t=Object(T.a)(e,["children","title"]);return Object(f.jsx)(W,Object(p.a)(Object(p.a)({title:"\u0427\u0438\u0441\u043b\u043e \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u0439",extraTitle:Object(f.jsx)(B.a,{src:$})},t),{},{children:Object(f.jsx)(B.a,{src:ne})}))}),se=(c(212),c.p+"static/media/Pie.75b914e3.svg"),le=function(e){e.children,e.title;var t=Object(T.a)(e,["children","title"]);return Object(f.jsx)(W,Object(p.a)(Object(p.a)({title:"\u041e\u0442\u0437\u044b\u0432\u044b",extraTitle:Object(f.jsx)(B.a,{src:$})},t),{},{children:Object(f.jsx)(B.a,{src:se})}))},de=(c(213),c.p+"static/media/Gender.1c06f588.svg"),oe=function(e){e.children,e.title;var t=Object(T.a)(e,["children","title"]);return Object(f.jsx)(W,Object(p.a)(Object(p.a)({title:"\u041f\u043e\u043b \u0438 \u0432\u043e\u0437\u0440\u0430\u0441\u0442",extraTitle:Object(f.jsx)(B.a,{src:$})},t),{},{children:Object(f.jsx)(B.a,{src:de})}))},je=(c(214),c.p+"static/media/Nationality.113c7d6e.svg"),be=function(e){e.children,e.title;var t=Object(T.a)(e,["children","title"]);return Object(f.jsx)(W,Object(p.a)(Object(p.a)({title:"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c",extraTitle:Object(f.jsx)(B.a,{src:$})},t),{},{children:Object(f.jsx)(B.a,{src:je})}))},he=function(){return Object(f.jsxs)(R.a.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,transition:{delayChildren:.3,staggerChildren:.3}},className:ce.a.wrapper,children:[Object(f.jsx)(ee,{},"1"),Object(f.jsx)(ae,{},"2"),Object(f.jsx)(ie,{},"3"),Object(f.jsx)(re,{},"4"),Object(f.jsx)(le,{},"5"),Object(f.jsx)(oe,{},"6"),Object(f.jsx)(be,{},"7")]})},ue=c(120),xe=c.n(ue),Oe=c(0).createContext,pe=Oe(),fe=Oe(),ge=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(l.a)(c,2),i=n[0],r=n[1],s=Object(a.useState)(null),d=Object(l.a)(s,2),o=d[0],j=d[1];return Object(f.jsx)(pe.Provider,{value:{exponats:i,setExponats:r},children:Object(f.jsx)(fe.Provider,{value:{selectedId:o,selectShapeId:j},children:t})})},_e=c(268),ve=c(121),me=c.n(ve),ye=function(e){var t=e.shape,c=(e.onChange,e.onSelect),n=e.isSelected,i=Object(a.useRef)();return Object(f.jsx)(d.a,{x:t.x,y:t.y,width:50,height:50,strokeWidth:2,strokeEnabled:n,stroke:"#f00",fill:"#D86F6F",ref:i,onClick:c})},Ce=function(){var e=b()(o),t=Object(l.a)(e,1)[0],c=Object(a.useState)({stageScale:1,stageX:0,stageY:0}),n=Object(l.a)(c,2),i=n[0],r=n[1],s=Object(a.useContext)(pe),j=s.exponats,x=s.setExponats,O=Object(a.useContext)(fe),g=O.selectedId,_=O.selectShapeId;Object(a.useEffect)((function(){var e;(e=1,new Promise((function(t,c){w({method:"get",url:"get/plan/".concat(e)}).then((function(e){t(e.data.data)})).catch((function(e){c(e)}))}))).then((function(e){console.log(e),x(e.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{id:null===e||void 0===e?void 0:e.picture_id})})))})).catch((function(){console.log("err"),x([{name:"1",x:0,y:0,id:1},{name:"2",x:50,y:50,id:2},{name:"3",x:300,y:100,id:3},{name:"4",x:0,y:200,id:4}])}))}),[]);Object(P.f)();var v=(window.innerWidth-160)/(null===t||void 0===t?void 0:t.width)*(null===t||void 0===t?void 0:t.height);console.log(v);return Object(f.jsxs)("div",{children:[Object(f.jsx)(d.f,{width:window.innerWidth,height:600,scaleX:i.stageScale,scaleY:i.stageScale,x:i.stageX,y:i.stageY,onWheel:function(e){e.evt.preventDefault();var t=e.target.getStage(),c=t.scaleX(),a=t.getPointerPosition().x/c-t.x()/c,n=t.getPointerPosition().y/c-t.y()/c,i=e.evt.deltaY<0?1.02*c:c/1.02;r({stageScale:i,stageX:-(a-t.getPointerPosition().x/i)*i,stageY:-(n-t.getPointerPosition().y/i)*i})},onClick:function(e){var t,c,a,n;console.log(null===e||void 0===e||null===(t=e.currentTarget)||void 0===t||null===(c=t.clickEndShape)||void 0===c?void 0:c.index),(null===e||void 0===e||null===(a=e.currentTarget)||void 0===a||null===(n=a.clickEndShape)||void 0===n?void 0:n.index)||_(null)},children:Object(f.jsx)(d.d,{children:Object(f.jsxs)(d.b,{x:30,y:30,draggable:!0,children:[Object(f.jsx)(d.c,{width:window.innerWidth-160,height:v||200,image:t}),j.map((function(e,t){return Object(f.jsx)(ye,{onSelect:function(){console.log("e",e),_(e.id)},isSelected:e.id===g,shape:e},t)}))]})})}),Object(f.jsx)("div",{className:me.a.buttonContainer,children:Object(f.jsx)(h.a,{color:"primary",variant:"contained","aria-label":"outlined primary button group",children:Object(f.jsx)(u.a,{onClick:function(){},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})})]})},we=function(){var e=Object(a.useContext)(pe),t=e.exponats,c=(e.setExponats,Object(a.useContext)(fe)),n=c.selectedId,i=(c.selectShapeId,Object(a.useState)([])),r=Object(l.a)(i,2),d=r[0],o=r[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),h=b[0],x=b[1];Object(a.useEffect)((function(){S().then((function(e){console.log("data",e)})).catch((function(e){console.log("error",e.message)}))}),[]),Object(a.useEffect)((function(){var e;n&&x(null===(e=t[n-1])||void 0===e?void 0:e.name)}),[n]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ce,{}),Object(f.jsx)(R.a.div,{initial:{opacity:0,scaleY:0},animate:{opacity:1,scaleY:1},className:xe.a.wrapper,children:Object(f.jsx)(W,{title:"\u0412\u0435\u0441\u0442\u0438 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435",children:Object(f.jsxs)(_e.a,{container:!0,spacing:3,children:[Object(f.jsxs)(_e.a,{item:!0,xs:12,children:[Object(f.jsx)(u.a,{onClick:function(){},variant:"contained",color:"primary",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(f.jsx)(F.a,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u043a\u0441\u043f\u043e\u043d\u0430\u0442\u0430",disabled:!0,value:h}),Object(f.jsx)(M.a,{onClick:function(){var e,c=Object(s.a)(d);o([].concat(Object(s.a)(c),[{y:n,name:null===(e=t[n-1])||void 0===e?void 0:e.name}]))},color:"primary",disabled:!n,children:Object(f.jsx)(z.a,{})})]}),Object(f.jsx)(_e.a,{item:!0,children:Object(f.jsx)(H.a,{children:d.map((function(e){return Object(f.jsx)(Z.a,{children:e.name})}))})})]})})})]})},Se=c(122),Pe=c.n(Se),Ie=(c(215),c.p+"static/media/ProductRoudmap.c7fcd065.svg"),ke=function(e){e.children,e.title;var t=Object(T.a)(e,["children","title"]);return Object(f.jsx)(W,Object(p.a)(Object(p.a)({title:"Product roadmap",extraTitle:Object(f.jsx)(B.a,{src:$})},t),{},{children:Object(f.jsx)(B.a,{src:Ie})}))},Ee=function(){return Object(f.jsx)(R.a.div,{initial:{opacity:0,scaleY:0},animate:{opacity:1,scaleY:1},className:Pe.a.wrapper,children:Object(f.jsx)(K.a,{children:Object(f.jsx)(ke,{})})})},Te=Object(V.a)(),Ne=function(){return Object(f.jsx)(U.a,{history:Te,children:Object(f.jsx)(Q,{children:Object(f.jsx)(P.c,{children:Object(f.jsxs)(K.a,{children:[Object(f.jsx)(P.a,{exact:!0,path:"/",children:Object(f.jsx)(y,{children:Object(f.jsx)(X,{},"/")})}),Object(f.jsx)(P.a,{exact:!0,path:"/users",children:Object(f.jsx)(he,{})},"/users"),Object(f.jsx)(P.a,{exact:!0,path:"/add-review",children:Object(f.jsx)(ge,{children:Object(f.jsx)(we,{})})},"/add-review"),Object(f.jsx)(P.a,{exact:!0,path:"/tasks",children:Object(f.jsx)(Ee,{})},"/tasks")]})})})})},Ye=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,274)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),i(e),r(e)}))};r.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(Ne,{})}),document.getElementById("root")),Ye()},55:function(e,t,c){e.exports={card:"Cards_card__3Hg7m",header:"Cards_header__Wc6dC",title:"Cards_title__WDsV4",extraTitle:"Cards_extraTitle__2EuXU",body:"Cards_body__1lrpR"}},56:function(e,t,c){e.exports={container:"layout_container__22rNm",header:"layout_header__3T6kd",logoWrapper:"layout_logoWrapper__2Btwu",avatarWrapper:"layout_avatarWrapper__1BI0-",main:"layout_main__1Icor"}}},[[216,1,2]]]);
//# sourceMappingURL=main.7e7db99b.chunk.js.map